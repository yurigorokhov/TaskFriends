<div class="row" ng-show="todoTasks.length > 0">
  <!-- In Progress -->  
  <div class="col-md-12">
    <h2>Your TODO list</h2>
    <accordion close-others="false">
      <accordion-group ng-repeat="task in todoTasks" id="{{task.id}}">
        <accordion-heading>
          <span class="label label-info pull-left">{{ task.createdBy.name }}</span>
          <span class="iou-task-title">{{ task.title }}</span>
        </accordion-heading>
        <span ng-show="task.permissions.isAwaitingApproval === true" class="label label-info pull-right">Awaiting approval</span>
        {{ task.description }}
        <h4>Prizes</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="prize in task.prizes">
            {{ prize.reward }}
          </li>
        </ul>
        <button type="button" class="btn btn-primary" ng-click="completeTask(task)" ng-show="task.permissions.canComplete === true">I am done!</button>
      </accordion-group>
    </accordion>
  </div>
</div>

<div class="row">
  
  <!-- Assets -->
  <div class="col-md-6">
		<h2>Assets</h2>
    <div ng-show="assetTasks.length === 0" class="alert alert-info">Complete tasks to gain assets</div>
    <accordion close-others="false" ng-show="assetTasks.length > 0">
      <accordion-group ng-repeat="task in assetTasks" id="{{task.id}}">
        <accordion-heading>
          <span class="label label-info pull-left">{{ task.createdBy.name }}</span>
          <span class="iou-task-title">{{ task.title }}</span>
        </accordion-heading>
        {{ task.description }}
        <h4>Prizes</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="prize in task.prizes">
            {{ prize.reward }}
          </li>
        </ul>
      </accordion-group>
    </accordion>
	</div>

  <!-- Debts -->
  <div class="col-md-6">
    <h2>Debts</h2>
    <div ng-show="debtTasks.length === 0" class="alert alert-info">Complete tasks to gain assets</div>
    <accordion close-others="false" ng-show="debtTasks.length > 0">
      <accordion-group ng-repeat="task in debtTasks" id="{{task.id}}">
        <accordion-heading>
          <span class="label label-info pull-left">{{ task.claimedBy.name }}</span>
          <span class="iou-task-title">{{ task.title }}</span>
        </accordion-heading>
        {{ task.description }}
        <h4>Prizes</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="prize in task.prizes">
            {{ prize.reward }}
          </li>
        </ul>
      </accordion-group>
    </accordion>
  </div>
</div>
<div class="row">
  <!-- My open tasks -->  
  <div class="col-md-12">
    <h2>My open tasks<button class="btn btn-primary pull-right" ng-click="open()">Create a task</button></h2>
    <div ng-show="myOpenTasks.length === 0" class="alert alert-info">Create tasks for others to do</div>
    <accordion close-others="false">
      <accordion-group ng-repeat="task in myOpenTasks" id="{{task.id}}" is-open="task.isopen" ng-click="task.isopen = !task.isopen">
        <accordion-heading>
          <span class="iou-task-title" ng-click="task.isopen = !task.isopen">{{ task.title }}</span>
        </accordion-heading>
        <span class="pull-right ">In Progess by <span ng-show="task.permissions.isInProgress" class="label label-success">{{ task.claimedBy.name }}</span></span>
        {{ task.description }}
        <h4>Prizes</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="prize in task.prizes">
            {{ prize.reward }}
          </li>
        </ul>
        <button type="button" class="btn btn-primary" ng-click="editTask(task)" ng-show="task.permissions.canEdit === true">Edit</button>
        <button type="button" class="btn btn-danger" ng-click="deleteTask(task)" ng-show="task.permissions.canDelete === true">Delete</button>
      </accordion-group>
    </accordion>
  </div>
</div>